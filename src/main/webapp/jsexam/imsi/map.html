<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>map</title>
</head>
<style>
	* {
		text-align : center;
	}
</style>
<body>
<h1>지도를 그리자</h1>
<hr>
<p>
	<button onclick="setOverlayMapTypeId('myhome')">우리집</button>
	<button onclick="setOverlayMapTypeId('myfav')">내가 좋아하는 곳</button>
</p>
<hr>
<div id="map" style="width:50%; height:500px; margin: auto;"></div>
<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1cc2187c8717ffab77eb12ceab5806ae"></script>
<script>
	var mapContainer = document.getElementById('map'), mapOption = { };
	var map;
	var currentTypeId;
	var mapOption;

	function setOverlayMapTypeId(maptype) {
		var changeMaptype;
		if (maptype === 'myhome') {
			mapOption = { center : new kakao.maps.LatLng(37.3049734360163, 127.107305714974), level : 3 }
			map = new kakao.maps.Map(mapContainer, mapOption);
			
			imageSrc = '/edu/images/home.png',
			imageSize = new kakao.maps.Size(40, 40),
			imageOption = {offset: new kakao.maps.Point(20, 60)};

			var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption)
			var position =  new kakao.maps.LatLng(37.3049734360163, 127.107305714974);
			var marker = new kakao.maps.Marker({ position: position, image: markerImage, clickable: true });
			
			marker.setMap(map);
			
			var iwContent = '<div style = "padding : 10px; background-color : yellow; font-weight : bold;">여기가 우리집~~!!</div>',
			    iwRemoveable = true; 
			var infowindow = new kakao.maps.InfoWindow({
				content : iwContent, removable : iwRemoveable
				});
			kakao.maps.event.addListener(marker, 'click', function() {
				infowindow.open(map, marker);
				});
		} else if (maptype === 'myfav') {        
			mapOption = { center : new kakao.maps.LatLng(37.5235332, 127.0230659), level : 3 }
			map = new kakao.maps.Map(mapContainer, mapOption);
			
			imageSrc = '/edu/images/duke.png',
			imageSize = new kakao.maps.Size(40, 50),
			imageOption = {offset: new kakao.maps.Point(20, 60)};

			var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imageOption)
			var position =  new kakao.maps.LatLng(37.5235332, 127.0230659);
			var marker = new kakao.maps.Marker({
			  position: position,
			  image: markerImage,
			  clickable: true
			});
			
			marker.setMap(map);
			
			var iwContent = '<div style = "padding : 10px; background-color : magenta; font-weight : bold;">내가 제일 좋아하는곳...</div>',
			    iwRemoveable = true; 
			var infowindow = new kakao.maps.InfoWindow({
				content : iwContent,
				removable : iwRemoveable
				});
			kakao.maps.event.addListener(marker, 'click', function() {
				infowindow.open(map, marker);
				});
		}
		
		if (currentTypeId) {
		    map.removeOverlayMapTypeId(currentTypeId);    
		}
		
		map.addOverlayMapTypeId(changeMaptype);
		currentTypeId = changeMaptype;
	}
</script>
</body>
</html>