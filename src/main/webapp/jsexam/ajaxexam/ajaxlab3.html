<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
@font-face {
	font-family: 'SDSamliphopangche_Outline';
	src:
		url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts-20-12@1.0/SDSamliphopangche_Outline.woff')
		format('woff');
	font-weight: normal;
	font-style: normal;
}

* {
	text-align: center;
}

h1 {
	font-family: 'SDSamliphopangche_Outline';
}

img {
	width: 200px
}
</style>
</head>
<body>
	<h1>오늘의 날씨 정보</h1>
	<hr>
	<div id="weatherInfo"></div>
	<script>
		let xhr = new XMLHttpRequest();
		xhr.onload = function(e) {
			if (xhr.status == 200) {
				
				//JSON 파싱	
				const str = xhr.responseText
				const obj = JSON.parse(str);
				const temp = obj.temp;
				const position = obj.img;

				const result = document.getElementById("weatherInfo");
				result.innerHTML = `기온 : ${temp}도 <br> <img src=/edu/${position}>`;
			}

		}
		xhr.open("GET", "content/weather.jsp", true);
		xhr.send();
		
		window.addEventListener("load",function(){
			setInterval(function(){
				//색 배열
				let colors = ['red', 'orange', 'yellow', 'green', 'blue','Indigo', 'purple'];
				//숫자 선택
				const num = (Math.floor(Math.random()*100)+1)%7;
				
				const title = document.querySelector("h1");
				//console.log(colors[num]);
				
				title.style.color = `${colors[num]}`;
			},2000);
		})
	</script>

</body>
</html>